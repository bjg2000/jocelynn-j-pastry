<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jocelynn Jerome - Pastry Baker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @font-face {
        font-family: 'LucideIcons';
        src: url(https://cdn.jsdelivr.net/npm/lucide-static@latest/font/Lucide.ttf) format('truetype');
      }
      .lucide {
        font-family: 'LucideIcons';
        font-size: 1.25rem; /* Adjust size as needed */
        line-height: 1;
      }
      /* Basic animation for page transitions */
      .page {
        display: none; /* Hide pages by default */
        animation: fadeIn 0.5s ease-in-out;
      }
      .page.active {
        display: block; /* Show active page */
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb {
        background: #eab308; /* Tailwind yellow-500 */
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #ca8a04; /* Tailwind yellow-600 */
      }
      /* Styling for active nav link */
       nav a.active-link {
        @apply text-yellow-600 border-b-2 border-yellow-500 font-semibold;
       }
       nav a {
         @apply transition duration-300 ease-in-out;
       }
       nav a:hover {
         @apply text-yellow-600;
       }
       /* Button hover effect */
        button {
            @apply transition duration-300 ease-in-out transform hover:scale-105;
        }

    </style>
    <script>
        // Basic configuration for Tailwind (optional, using defaults)
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'], // Set Inter as default sans-serif font
                    },
                    colors: {
                        cream: '#FFF8DC', // Cornsilk - a warm, baking-related color
                        brown: {
                            light: '#D2B48C', // Tan
                            DEFAULT: '#8B4513', // SaddleBrown
                            dark: '#5C2E14' // Darker brown
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-cream font-sans text-brown-dark antialiased">

    <div class="container mx-auto px-4 py-8 max-w-6xl">

        <header class="mb-12 text-center border-b-2 border-brown-light pb-6">
            <h1 class="text-4xl md:text-5xl font-bold text-brown-dark mb-2 animate-fadeIn">Jocelynn Jerome</h1>
            <p class="text-xl text-yellow-600 font-medium animate-fadeIn" style="animation-delay: 0.2s;">Pastry Baker</p>
            <p class="text-sm text-gray-600 animate-fadeIn" style="animation-delay: 0.4s;">North Dartmouth, Massachusetts, United States</p>
        </header>

        <nav class="flex justify-center space-x-6 md:space-x-10 mb-12 pb-4 border-b border-brown-light">
            <a href="#order" class="nav-link text-lg text-brown hover:text-yellow-600 active-link" onclick="showPage('order', this)">Place Order</a>
            <a href="#menu" class="nav-link text-lg text-brown hover:text-yellow-600" onclick="showPage('menu', this)">Menu</a>
            <a href="#showcase" class="nav-link text-lg text-brown hover:text-yellow-600" onclick="showPage('showcase', this)">Showcase</a>
        </nav>

        <main>
            <!-- Place Order Section - Now the default active page -->
            <div id="order" class="page active">
                 <section class="mb-10 bg-white p-6 rounded-lg shadow-md transition duration-300 hover:shadow-xl">
                    <h2 class="text-2xl font-semibold text-brown-dark border-b border-yellow-500 pb-2 mb-6 flex items-center">
                       <span class="mr-2 text-2xl">üõí</span> Place a Custom Order
                    </h2>
                    <p class="text-gray-600 mb-8">Interested in a custom baked good? Fill out the form below to start your inquiry. Please note this form is for inquiries only and does not process payments.</p>

                    <!-- Google Forms Embed -->
                    <!-- Using min-height and overflow-y: auto for better dynamic scrolling -->
                    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfC5lqYJPG6-eKIggyPOudJMtxet9JLq-07sYiwatS13_yImw/viewform?embedded=true" 
                            width="100%" 
                            style="min-height: 1400px; border: none; display: block; overflow-y: auto;" 
                            frameborder="0" marginheight="0" marginwidth="0">Loading‚Ä¶</iframe>
                    <!-- End Google Forms Embed -->
                 </section>
            </div>

            <!-- Showcase Section (Combined About and Portfolio) -->
            <div id="showcase" class="page">
                 <section class="mb-10 bg-white p-6 rounded-lg shadow-md transition duration-300 hover:shadow-xl">
                    <h2 class="text-2xl font-semibold text-brown-dark border-b border-yellow-500 pb-2 mb-4 flex items-center">
                        <span class="mr-2 text-2xl">üë©‚Äçüç≥</span> About Jocelynn
                    </h2>
                    <p class="text-gray-700 leading-relaxed mb-6">
                        Baking has always been a passion of mine ever since I was a child, but beyond that it has been a form of communication that sometimes actions and words cannot express. I have worked in the food industry service for three years but have been baking since I was allowed to use an oven. Everyday I feel thankful for being given an opportunity to learn about this industry where science, attention to detail, art, and heart all meet.
                    </p>
                    <h3 class="text-xl font-semibold text-brown-dark border-b border-yellow-500 pb-2 mb-4 flex items-center">
                       <span class="mr-2 text-2xl">üìß</span> Contact Information
                    </h3>
                    <ul class="space-y-2 text-gray-700">
                        <li><a href="mailto:jocelynnjerome@gmail.com" class="hover:text-yellow-600 transition duration-200">jocelynnjerome@gmail.com</a></li>
                        <li><a href="https://www.linkedin.com/in/jocelynnjerome" target="_blank" rel="noopener noreferrer" class="hover:text-yellow-600 transition duration-200">linkedin.com/in/jocelynnjerome</a></li>
                    </ul>
                </section>

                 <section class="bg-white p-6 rounded-lg shadow-md transition duration-300 hover:shadow-xl mt-10">
                    <h2 class="text-2xl font-semibold text-brown-dark border-b border-yellow-500 pb-2 mb-6 flex items-center">
                        <span class="mr-2 text-2xl">‚ú®</span> Portfolio - Past Works
                    </h2>
                    <p class="text-gray-600 mb-8">A showcase of delicious creations.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container (height is 133.33% of width) -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/artisan_bread.jpg" alt="Artisan Bread" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">Artisan Sourdough</h3>
                                <p class="text-sm text-gray-600">Naturally leavened sourdough loaf with a crisp crust.</p>
                            </div>
                        </div>
                        <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/laminated_pastry.jpg" alt="Laminated Pastry" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">Croissants</h3>
                                <p class="text-sm text-gray-600">Flaky, buttery laminated dough perfection.</p>
                            </div>
                        </div>
                        <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/decorated_cake.jpg" alt="Decorated Cake" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">Celebration Cake</h3>
                                <p class="text-sm text-gray-600">Multi-layered cake with custom decoration.</p>
                            </div>
                        </div>
                         <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/assorted_cookies.jpg" alt="Assorted Cookies" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">Cookie Assortment</h3>
                                <p class="text-sm text-gray-600">A variety of classic and gourmet cookies.</p>
                            </div>
                        </div>
                         <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/seasonal_tart.jpg" alt="Seasonal Tart" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">Fruit Galette</h3>
                                <p class="text-sm text-gray-600">Rustic tart featuring seasonal fruits.</p>
                            </div>
                        </div>
                         <div class="bg-cream rounded-lg overflow-hidden shadow-sm transition duration-300 hover:shadow-lg transform hover:-translate-y-1 border border-gray-200">
                            <div class="relative pt-[133.33%]"> <!-- 3:4 Aspect Ratio Container -->
                                <img src="https://raw.githubusercontent.com/bjg2000/jocelynn-j-pastry/main/assets/french_pastry.jpg" alt="French Pastry" class="absolute inset-0 w-full h-full object-contain" onerror="this.src='https://placehold.co/600x800/eeeeee/cccccc?text=Image+Not+Found'">
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg text-brown">French Pastry</h3>
                                <p class="text-sm text-gray-600">Delicate and exquisite French pastries, a true art form.</p>
                            </div>
                        </div>
                    </div>
                 </section>
            </div>

            <!-- New Menu Section - Now dynamic -->
            <div id="menu" class="page">
                <section class="bg-white p-6 rounded-lg shadow-md transition duration-300 hover:shadow-xl">
                    <h2 class="text-2xl font-semibold text-brown-dark border-b border-yellow-500 pb-2 mb-6 flex items-center">
                        <span class="mr-2 text-2xl">üìã</span> Current Offerings & Menu
                    </h2>
                    <p class="text-gray-600 mb-8">
                        Discover what's currently being baked fresh!
                    </p>

                    <div id="menu-items-container" class="space-y-8">
                        <!-- Menu items will be dynamically loaded here from Google Sheet -->
                        <p class="text-center text-gray-500">Loading menu...</p>
                    </div>
                    <div id="menu-loading" class="mt-6 p-4 rounded-md text-center text-yellow-700" style="display: none;">
                        <svg class="animate-spin h-5 w-5 text-yellow-700 inline-block mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        Loading menu...
                    </div>
                    <div id="menu-error" class="mt-6 p-4 rounded-md text-center bg-red-100 text-red-800" style="display: none;">
                        Error loading menu. Please try again later.
                    </div>

                    <p class="text-sm text-gray-500 mt-6">
                        For pricing and availability, or to discuss custom orders, please use the "Place Order" form.
                    </p>
                </section>
            </div>
        </main>

        <footer class="mt-16 pt-8 border-t border-brown-light text-center text-gray-500 text-sm">
            <p>&copy; <span id="currentYear"></span> Jocelynn Jerome. All rights reserved.</p>
            <p>Website designed by Bryce Getchell</p> </footer>

    </div>

    <script>
        // --- Page Navigation ---
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');

        function showPage(pageId, clickedLink) {
            // Hide all pages
            pages.forEach(page => {
                page.classList.remove('active');
            });

            // Show the selected page
            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.add('active');
            }

            // Update active state for nav links
            navLinks.forEach(link => {
                link.classList.remove('active-link');
            });
            if (clickedLink) {
                clickedLink.classList.add('active-link');
            }

            // If the menu page is being shown, trigger menu loading
            if (pageId === 'menu') {
                fetchAndDisplayMenu();
            }

            // Scroll to top of page content smoothly
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- Dynamic Menu Loading from Google Sheet ---
        let menuCache = null; // Global cache for the menu data

        const menuItemsContainer = document.getElementById('menu-items-container');
        const menuLoading = document.getElementById('menu-loading');
        const menuError = document.getElementById('menu-error');
        const GOOGLE_SHEET_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSmgA4UPrlSzpesMSaHZ8ZAhLyNCFa6crAifWR2krM65Zttb4Y_VFQRbue2Qbg4PXRSntYzfs0AlDBs/pub?output=csv'; 

        // This function prefetches data in the background without affecting the UI
        async function prefetchMenu() {
            if (menuCache) return; // Don't fetch if already cached
            try {
                const response = await fetch(GOOGLE_SHEET_CSV_URL);
                if (!response.ok) return; // Fail silently, main fetch will handle error
                const csvText = await response.text();
                menuCache = parseCSV(csvText); // Store parsed data in the cache
                console.log("Menu data has been prefetched.");
            } catch (error) {
                console.error("Error prefetching menu data:", error); // Log prefetch error
            }
        }

        // This function is called when the user clicks the "Menu" tab
        async function fetchAndDisplayMenu() {
            // If data is in the cache, display it immediately
            if (menuCache) {
                displayMenu(menuCache);
                return;
            }

            // If no cached data, show loading and fetch it now
            menuItemsContainer.innerHTML = '';
            menuError.style.display = 'none';
            menuLoading.style.display = 'block';

            try {
                const response = await fetch(GOOGLE_SHEET_CSV_URL);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const csvText = await response.text();
                const menuItems = parseCSV(csvText);
                menuCache = menuItems; // Cache the data for next time
                displayMenu(menuItems);
            } catch (error) {
                console.error("Error fetching menu:", error);
                menuError.style.display = 'block';
                menuItemsContainer.innerHTML = '';
            } finally {
                menuLoading.style.display = 'none';
            }
        }
        
        // New function just for displaying the menu from data
        function displayMenu(menuItems) {
            menuLoading.style.display = 'none';
            menuError.style.display = 'none';
            menuItemsContainer.innerHTML = ''; // Clear previous content

            if (menuItems && menuItems.length > 0) {
                menuItems.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'bg-yellow-50 p-4 rounded-md shadow-sm';
                    itemDiv.innerHTML = `
                        <h3 class="text-xl font-semibold text-brown mb-1">${item['Product Name']}</h3>
                        <p class="text-lg text-yellow-700 font-medium mb-2">${item['Price']}</p>
                        <p class="text-gray-700">${item['Description']}</p>
                    `;
                    menuItemsContainer.appendChild(itemDiv);
                });
            } else {
                menuItemsContainer.innerHTML = '<p class="text-center text-gray-500">No menu items found.</p>';
            }
        }
        
        // Show the initial page and start prefetching the menu
        document.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash.substring(1);
            const initialPageId = (hash === 'menu' || hash === 'showcase') ? hash : 'order';
            const initialLink = document.querySelector(`.nav-link[href="#${initialPageId}"]`);
            showPage(initialPageId, initialLink);
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // Start fetching menu data in the background
            prefetchMenu();
        });

        // A more robust CSV parser that handles commas within quoted fields
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            if (lines.length === 0) return [];

            const csvSplitRegex = /,(?=(?:(?:[^"]*"){2})*[^"]*$)/;

            const cleanValue = (value) => {
                let cleaned = value.trim();
                if (cleaned.startsWith('"') && cleaned.endsWith('"')) {
                    cleaned = cleaned.substring(1, cleaned.length - 1);
                }
                return cleaned.replace(/""/g, '"');
            };

            const headers = lines[0].split(csvSplitRegex).map(cleanValue);
            const data = [];

            for (let i = 1; i < lines.length; i++) {
                if (lines[i].trim() === '') continue;
                const values = lines[i].split(csvSplitRegex).map(cleanValue);
                if (values.length === headers.length) {
                    let item = {};
                    headers.forEach((header, index) => {
                        item[header] = values[index];
                    });
                    data.push(item);
                } else {
                    console.warn(`Skipping malformed row ${i + 1}: Expected ${headers.length} columns, got ${values.length}. Line: "${lines[i]}"`);
                }
            }
            return data;
        }

    </script>

</body>
</html>
